(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{135:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(8),s=n.n(r),o=(n(91),n(47)),c=n(33),l=n(17),u=n(13),d=n(19),g=n(18),p=n(20),m=n(49),h=n.n(m),f=n(28),x=n.n(f),b=n(39),v=n(50),S=n(51),y=n.n(S),C=n(74),E=n.n(C),w=n(52),k=n.n(w),O=n(53),j=n.n(O),I=n(175),N=n(81),R=n(176),_=n(178),T=n(5),L="2d0e89daf27dd516eb7dcf5208bd83de",A=Object(_.a)({root:{width:"100%",alignSelf:"end",padding:"0 0 30px","& label.Mui-focused":{color:"#34495e"},"& .MuiOutlinedInput-root":{"&.Mui-focused fieldset":{borderColor:"#34495e",border:"1px solid #34495e"}},"@media screen and (max-width: 500px)":{width:"calc(100vw - 40px)",alignSelf:"center",padding:"20px"}},container:{position:"relative"},suggestionsContainerOpen:{position:"absolute",zIndex:2,left:0,right:0,maxHeight:"300px",overflow:"auto"},suggestion:{display:"block"},suggestionsList:{margin:0,padding:0,listStyleType:"none"}});function q(e,t){var n=t.query,a=t.isHighlighted,r=k()(e.name,n),s=j()(e.name,r);return i.a.createElement(R.a,{selected:a,component:"div"},i.a.createElement("div",null,s.map(function(e){return i.a.createElement("span",{key:e.text,style:{fontWeight:e.highlight?500:400}},e.text)})))}function z(e){var t=e.classes,n=e.inputRef,a=void 0===n?function(){}:n,r=e.ref,s=Object(v.a)(e,["classes","inputRef","ref"]);return i.a.createElement(I.a,Object.assign({fullWidth:!0,variant:"outlined",InputProps:{inputRef:function(e){r(e),a(e)},classes:{input:t.input}}},s))}var D=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(d.a)(this,Object(g.a)(t).call(this,e))).loadSuggestions=function(){var e=Object(b.a)(x.a.mark(function e(t){var a,i,r;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.trim().toLowerCase(),!(a.length>2)){e.next=12;break}return e.next=5,fetch("https://developers.zomato.com/api/v2.1/cities?q=".concat(t),{headers:{"Content-Type":"application/json","user-key":L}});case 5:return i=e.sent,e.next=8,i.json();case 8:r=e.sent,n.setState({suggestions:r.location_suggestions}),e.next=13;break;case 12:return e.abrupt("return",[]);case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.getSuggestionValue=function(e){return e.name},n.onChange=function(e,t){var a=t.newValue;return n.setState({value:a})},n.onSuggestionsFetchRequested=function(e){var t=e.value;return n.debouncedLoadSuggestions(t)},n.onSuggestionsClearRequested=function(){return n.setState({suggestions:[]})},n.handleSelection=function(e,t){var a=t.suggestion;n.props.handleLocationSelection(a.id)},n.state={value:"",suggestions:[]},n.debouncedLoadSuggestions=E.a.debounce(n.loadSuggestions,200),n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.classes;return i.a.createElement("div",{className:e.root},i.a.createElement(y.a,{suggestions:this.state.suggestions,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested,getSuggestionValue:this.getSuggestionValue,onSuggestionSelected:this.handleSelection,renderSuggestion:q,renderInputComponent:z,inputProps:{classes:e,id:"react-autosuggest-simple",label:"Location",placeholder:"Type a city",value:this.state.value,onChange:this.onChange},theme:{container:e.container,suggestionsContainerOpen:e.suggestionsContainerOpen,suggestionsList:e.suggestionsList,suggestion:e.suggestion},renderSuggestionsContainer:function(e){return i.a.createElement(N.a,Object.assign({},e.containerProps,{square:!0}),e.children)}}))}}]),t}(i.a.Component),M=Object(T.a)(A)(D),W=Object(_.a)({root:{width:"100%",alignSelf:"end",padding:"0 0 30px","& label.Mui-focused":{color:"#34495e"},"& .MuiOutlinedInput-root":{"&.Mui-focused fieldset":{borderColor:"#34495e",border:"1px solid #34495e"}},"@media screen and (max-width: 500px)":{width:"calc(100vw - 40px)",alignSelf:"center",padding:"0 20px 20px"}},container:{position:"relative"},suggestionsContainerOpen:{position:"absolute",zIndex:1,left:0,right:0},suggestion:{display:"block"},suggestionsList:{margin:0,padding:0,listStyleType:"none"}});function F(e,t){var n=t.query,a=t.isHighlighted,r=k()(e.cuisine.cuisine_name,n),s=j()(e.cuisine.cuisine_name,r);return i.a.createElement(R.a,{selected:a,component:"div"},i.a.createElement("div",null,s.map(function(e){return i.a.createElement("span",{key:e.text,style:{fontWeight:e.highlight?500:400}},e.text)})))}function V(e){var t=e.classes,n=e.inputRef,a=void 0===n?function(){}:n,r=e.ref,s=e.locationId,o=Object(v.a)(e,["classes","inputRef","ref","locationId"]);return i.a.createElement(I.a,Object.assign({variant:"outlined",fullWidth:!0,disabled:null===s,InputProps:{inputRef:function(e){r(e),a(e)},classes:{input:t.input}}},o))}var P=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(d.a)(this,Object(g.a)(t).call(this,e))).getSuggestions=function(e){var t=e.trim().toLowerCase(),a=t.length;return 0===a?[]:n.state.suggestions.filter(function(e){return e.cuisine.cuisine_name.toLowerCase().slice(0,a)===t})},n.getSuggestionValue=function(e){return e.cuisine.cuisine_name},n.onChange=function(e,t){var a=t.newValue;return n.setState({value:a})},n.onSuggestionsFetchRequested=function(e){var t=e.value;return n.setState({suggestions:n.getSuggestions(t)})},n.onSuggestionsClearRequested=function(){return n.setState({suggestions:[]})},n.handleSelection=function(e,t){var a=t.suggestion;n.props.handleCuisineSelection(a.cuisine.cuisine_id)},n.state={value:"",suggestions:[]},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e,t){e.locationId!==this.props.locationId&&null!==this.props.locationId&&this.loadSuggestion()}},{key:"loadSuggestion",value:function(){var e=Object(b.a)(x.a.mark(function e(){var t,n;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://developers.zomato.com/api/v2.1/cuisines?city_id=".concat(this.props.locationId),{headers:{"Content-Type":"application/json","user-key":"2d0e89daf27dd516eb7dcf5208bd83de"}});case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,this.setState({suggestions:n.cuisines});case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.classes;return i.a.createElement("div",{className:e.root},i.a.createElement(y.a,{suggestions:this.state.suggestions,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested,getSuggestionValue:this.getSuggestionValue,onSuggestionSelected:this.handleSelection,renderSuggestion:F,renderInputComponent:V,inputProps:{classes:e,id:"react-autosuggest-simple",label:"Cuisine",placeholder:"Type a cuisine",value:this.state.value,onChange:this.onChange,locationId:this.props.locationId},theme:{container:e.container,suggestionsContainerOpen:e.suggestionsContainerOpen,suggestionsList:e.suggestionsList,suggestion:e.suggestion},renderSuggestionsContainer:function(e){return i.a.createElement(N.a,Object.assign({},e.containerProps,{square:!0}),e.children)}}))}}]),t}(i.a.Component),B=Object(T.a)(W)(P),H=n(137),G=n(168),J=n(59),Q=n.n(J),U=n(77),K={button:{alignSelf:"flex-end",boxShadow:"none",backgroundColor:"#34495e",padding:"10px 20px",color:"#fff",fontSize:"14px",fontWeight:"600",letterSpacing:0,textTransform:"none",fontFamily:"Montserrat","&:hover":{backgroundColor:"#5c6d7e"},"@media screen and (max-width: 500px)":{width:"calc(100vw - 40px)",padding:"10px",margin:"0 0 20px",alignSelf:"center"}},input:{display:"none"},root:{flexGrow:1,gridArea:"header"},main:{backgroundImage:"url(".concat(n.n(U).a,")"),backgroundSize:"cover",height:"100vh",width:"100%",display:"grid",gridTemplateColumns:"1fr",gridTemplateRows:"80px 1fr",gridTemplateAreas:'\n\t\t\t"header"\n\t\t\t"form"\n\t\t',alignItems:"start"},form:{gridArea:"form",borderRadius:"4px",backgroundColor:"#fff",padding:"32px 32px 24px 32px",width:"380px",boxShadow:"0 16px 40px rgba(0,0,0,0.12)",display:"flex",flexDirection:"column",alignSelf:"center",margin:"0 0 80px 80px","@media screen and (max-width: 900px)":{justifySelf:"center",alignSelf:"start",margin:"100px 0 0"},"@media screen and (max-width: 500px)":{width:"calc(100vw - 40px)",margin:"0",padding:"20px 0",justifySelf:"center",backgroundColor:"transparent"}},mobileForm:{display:"flex",flexDirection:"column","@media screen and (max-width: 500px)":{alignSelf:"center",backgroundColor:"#fff"}},h1:{color:"rgb(72, 72, 72)",fontSize:"2em",fontWeight:"700",margin:"0",padding:"0 0 30px","@media screen and (max-width: 500px)":{color:"#fff",padding:"0 0 15px"}},logo:{height:"20px",padding:"30px"}},X=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(d.a)(this,Object(g.a)(t).call(this,e))).handleLocationSelection=function(e){n.setState({locationId:e})},n.handleCuisineSelection=function(e){return n.setState({cuisineId:e})},n.handleSubmit=function(e){e.preventDefault();var t=h.a.stringify({location:n.state.locationId,cuisine:n.state.cuisineId});n.props.history.push("/restaurants?".concat(t))},n.state={locationId:null,cuisineId:null},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.classes;return i.a.createElement("div",{className:e.main},i.a.createElement("div",{className:e.root},i.a.createElement("img",{className:e.logo,alt:"logo",src:Q.a})),i.a.createElement("div",{className:e.form},i.a.createElement("h1",{className:e.h1},"Find the best places to eat in your city."),i.a.createElement("div",{className:e.mobileForm},i.a.createElement(M,{handleLocationSelection:this.handleLocationSelection}),i.a.createElement(B,{locationId:this.state.locationId,handleCuisineSelection:this.handleCuisineSelection}),i.a.createElement(G.a,{variant:"contained",className:e.button,onClick:this.handleSubmit},"Search"))))}}]),t}(i.a.Component),$=Object(H.a)(K)(X),Y=n(170),Z=n(171),ee=n(172),te=n(169),ne=n(80),ae=n(78),ie=n.n(ae),re=Object(ne.a)({palette:{primary:{500:"#34495e"}}}),se=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.restaurant,t=this.props.classes;return e?i.a.createElement(te.a,{theme:re},i.a.createElement(Y.a,{className:t.card},i.a.createElement(Z.a,{className:t.media,image:e.featured_image,title:e.name}),i.a.createElement("div",{className:t.grid},i.a.createElement("div",{className:t.info},i.a.createElement(ee.a,{className:t.cardContent},i.a.createElement("h1",{className:t.header},e.name),i.a.createElement("p",{className:t.subheader},e.cuisines),i.a.createElement("p",{className:t.paragraph},i.a.createElement("span",{className:t.label},"User rating:"," "),i.a.createElement("span",{style:{color:"#".concat(e.user_rating.rating_color)}},e.user_rating.rating_text," ","(",e.user_rating.aggregate_rating," ","/ 5)")),i.a.createElement("p",{className:t.paragraph},i.a.createElement("span",{className:t.label},"Average cost for two:"," "),e.average_cost_for_two,e.currency),i.a.createElement("p",{className:t.address},i.a.createElement("span",{className:t.label},"Address:"),i.a.createElement("span",null,e.location.locality,i.a.createElement("br",null),e.location.zipcode,i.a.createElement("br",null),e.location.city)))),i.a.createElement("div",{className:t.gridButtons},i.a.createElement("div",{className:t.buttons},i.a.createElement("a",{className:t.link,href:e.menu_url,target:"_blank",rel:"noopener noreferrer"},i.a.createElement(G.a,{variant:"contained",className:t.button,color:"primary"},"See menu")),i.a.createElement("a",{className:t.link,href:e.url,target:"_blank",rel:"noopener noreferrer"},i.a.createElement(G.a,{variant:"contained",className:t.button,disabled:!!e.has_table_booking,color:"primary"},"Book a table")))),i.a.createElement("div",{className:t.next},i.a.createElement(ie.a,{className:t.arrow,onClick:this.props.arrowOnClick}))))):i.a.createElement("div",null)}}]),t}(i.a.Component),oe=Object(H.a)({grid:{display:"grid",gridTemplateColumns:"350px 50px",gridTemplateRows:"1fr 72px",gridTemplateAreas:'\n            "restaurant next"\n            "buttons buttons"\n        ',"@media screen and (max-width: 745px)":{gridTemplateColumns:"calc(100vw - 40px) 40px"}},info:{padding:"0",gridArea:"restaurant"},card:{overflow:"auto",borderRadius:"0","@media screen and (max-width: 745px)":{height:"100%",overflow:"none"}},media:{height:0,paddingTop:"56.25%"},cardContent:{padding:"36px 16px"},header:{margin:"0 0 20px"},subheader:{fontWeight:"600",margin:"0 0 14px"},label:{fontWeight:"500"},paragraph:{margin:"0 0 14px"},address:{margin:"0"},gridButtons:{gridArea:"buttons"},buttons:{display:"flex",flexDirection:"row",justifyContent:"flex-start",padding:"0 16px 36px","@media screen and (max-width: 745px)":{flexDirection:"column",padding:"0 16px 16px"}},button:{margin:"0 10px 0 0","@media screen and (max-width: 745px)":{margin:"0 0 20px"}},link:{textDecoration:"none"},next:{gridArea:"next",justifySelf:"center"},arrow:{fontSize:"2.2em",borderRadius:"50%",padding:"3px",margin:"36px 0 0",cursor:"pointer","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.08)"}}})(se),ce=n(60),le=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.restaurants;return i.a.createElement(i.a.Fragment,null,t.length>0&&i.a.createElement(ce.Map,{google:this.props.google,zoom:12,containerStyle:{position:"relative"},center:{lat:this.props.lat,lng:this.props.lng},initialCenter:{lat:t[0].location.latitude,lng:t[0].location.longitude}},t.map(function(t,n){return i.a.createElement(ce.Marker,{key:t.id,title:t.name,name:t.name,position:{lat:t.location.latitude,lng:t.location.longitude},onClick:function(a){return e.props.markerOnClick(t.id,n)}})})))}}]),t}(i.a.Component),ue=Object(ce.GoogleApiWrapper)({apiKey:"AIzaSyDPiXRQChLCChCAQT02pL5IRi3xo_iDhEM"})(le),de=n(173),ge=n(174),pe=Object(ne.a)({palette:{primary:{500:"#34495e"}}}),me=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(d.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(i)))).state={locationId:null,cuisineId:null,restaurants:[],selected:0,lat:null,lng:null},n.selectRestaurants=function(e){for(var t=[],a=0;a<3;a++){var i=Math.floor(Math.random()*e.length);t.push(e[i].restaurant),e.splice(i,1)}n.setState({restaurants:t})},n.markerOnClick=function(e,t){var a=n.state.restaurants.find(function(t){return t.id===e});a&&n.setState({selected:t,lat:a.location.latitude,lng:a.location.longtitude})},n.arrowOnClick=function(){var e=0;n.state.selected!==n.state.restaurants.length-1&&(e=n.state.selected+1);var t=n.state.restaurants[e].location.latitude,a=n.state.restaurants[e].location.longitude;n.setState({selected:e,lat:t,lng:a})},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=h.a.parse(this.props.location.search);this.setState({locationId:e.location,cuisineId:e.cuisine},this.getRestaurants)}},{key:"getRestaurants",value:function(){var e=Object(b.a)(x.a.mark(function e(){var t,n;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null===this.state.locationId||null===this.state.cuisineId){e.next=8;break}return e.next=3,fetch("https://developers.zomato.com/api/v2.1/search?entity_id=".concat(this.state.locationId,"&entity_type=city&count=10&cuisines=").concat(this.state.cuisineId,"&sort=rating&order=desc"),{headers:{"Content-Type":"application/json","user-key":"2d0e89daf27dd516eb7dcf5208bd83de"}});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,this.selectRestaurants(n.restaurants);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.classes;return i.a.createElement("div",{className:e.container},i.a.createElement("div",{className:e.root},i.a.createElement(te.a,{theme:pe},i.a.createElement(de.a,{position:"static",color:"primary",style:{height:"100%",boxSizing:"border-box"}},i.a.createElement(ge.a,null,i.a.createElement(o.b,{to:"/"},i.a.createElement("img",{className:e.logo,alt:"logo",src:Q.a})),i.a.createElement(o.b,{to:"/",className:e.link},i.a.createElement("p",{className:e.hyperlink},"Back to search")))))),i.a.createElement(oe,{className:e.restaurant,restaurant:this.state.restaurants[this.state.selected],arrowOnClick:this.arrowOnClick}),i.a.createElement(ue,{className:e.map,lat:this.state.lat,lng:this.state.lng,restaurants:this.state.restaurants,markerOnClick:this.markerOnClick}))}}]),t}(i.a.Component),he=Object(T.a)({root:{gridArea:"header",zIndex:"2",height:"64px",display:"flex",flexDirection:"row"},container:{height:"100vh",width:"100%",display:"grid",gridTemplateColumns:"400px 1fr",gridTemplateRows:"64px 1fr",gridTemplateAreas:'\n\t\t\t"header header"\n\t\t\t"info map"\n\t\t',"@media screen and (max-width: 745px)":{gridTemplateColumns:"1fr",gridTemplateRows:"64px 100% 300px",gridTemplateAreas:'\n\t\t\t"header"\n\t\t\t"info"\n\t\t\t"map"\n\t\t\t'}},logo:{height:"20px",padding:"22px 0"},link:{marginLeft:"auto",textDecoration:"none"},hyperlink:{color:"#fff",fontWeight:"500","&:hover":{textDecoration:"underline"}},restaurant:{gridArea:"info"},map:{gridArea:"map"}})(me),fe=function(){return i.a.createElement(o.a,null,i.a.createElement(c.c,null,i.a.createElement(c.a,{path:"/",component:$,exact:!0}),i.a.createElement(c.a,{path:"/restaurants",component:he})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(fe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},59:function(e,t,n){e.exports=n.p+"static/media/light-logo.b1dc3f7e.png"},77:function(e,t,n){e.exports=n.p+"static/media/background.4d69c223.jpg"},86:function(e,t,n){e.exports=n(135)},91:function(e,t,n){}},[[86,1,2]]]);
//# sourceMappingURL=main.98a4c15d.chunk.js.map